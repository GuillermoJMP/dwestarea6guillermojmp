<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Viveros Acme - Inicio</title>

<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link
	href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap"
	rel="stylesheet">
<link rel="stylesheet" href="inicio.css">
</head>

<body data-page="inicio">
	<!-- Navbar -->
	<nav class="navbar navbar-dark fixed-top">
		<div
			class="container-fluid d-flex justify-content-between align-items-center">
			<button class="btn btn-outline-light" id="menuToggle">â˜° MenÃº</button>
			<a class="navbar-brand mx-auto" href="#">Viveros Acme</a>

			<!-- Usuario -->
			<div class="dropdown" th:if="${rol != 'INVITADO'}">
				<img src="user.png" alt="Usuario" class="user-img dropdown-toggle"
					id="userMenuToggle" data-bs-toggle="dropdown" aria-expanded="false">
				<ul class="dropdown-menu dropdown-menu-end"
					aria-labelledby="userMenuToggle">
					<li><a class="dropdown-item" th:href="@{/perfil}">Perfil</a></li>
					<li><a class="dropdown-item" th:href="@{/logout}">Cerrar
							SesiÃ³n</a></li>
				</ul>
			</div>

			<!-- BotÃ³n de "Iniciar SesiÃ³n" solo visible para invitados -->
			<div th:if="${rol == 'INVITADO'}">
				<a class="btn btn-light" th:href="@{/login}">Iniciar SesiÃ³n</a>
			</div>
		</div>
	</nav>

	<!-- Sidebar -->
	<nav class="sidebar" id="sidebar">
		<a th:href="@{/inicio}">ğŸ¡ Inicio</a> <a th:href="@{/plantasAdmin}"
			th:if="${rol == 'ADMIN'}">ğŸŒ± GestiÃ³n de Plantas</a> <a
			th:href="@{/ejemplaresAdmin}"
			th:if="${rol == 'ADMIN' || rol == 'PERSONAL'}">ğŸŒ¿ GestiÃ³n de
			Ejemplares</a> <a th:href="@{/mensajesAdmin}"
			th:if="${rol == 'ADMIN' || rol == 'PERSONAL'}">ğŸ“© GestiÃ³n de
			Mensajes</a> <a th:href="@{/personaAdmin}" th:if="${rol == 'ADMIN'}">ğŸ‘¥
			GestiÃ³n de Personas</a>
	</nav>

	<!-- Fondo Oscuro -->
	<div class="overlay" id="overlay"></div>

	<!-- Contenido Principal -->
	<main class="container mt-5 main-content">
		<div class="content-box text-center">
			<!-- Mensaje de bienvenida dinÃ¡mico -->
			<h3 th:text="${mensaje}">Bienvenido, Usuario.</h3>
		</div>

		<!-- Listado de Ejemplares (visible para todos los usuarios) -->
		<div class="mt-4">
			<h4 class="text-center">Lista de Ejemplares</h4>
			<div class="table-responsive">
				<table class="table table-hover table-striped">
					<thead>
						<tr>
							<th>ID</th>
							<th>Nombre</th>
							<th>DescripciÃ³n</th>
							<th>CategorÃ­a</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="ejemplar : ${ejemplares}">
							<td th:text="${ejemplar.id}"></td>
							<td th:text="${ejemplar.nombre}"></td>
							<td th:text="${ejemplar.descripcion}"></td>
							<td th:text="${ejemplar.categoria}"></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</main>

	<!-- JavaScript -->
	<script>
		document.getElementById("menuToggle")
				.addEventListener(
						"click",
						function() {
							document.getElementById("sidebar").classList
									.toggle("show");
							document.getElementById("overlay").classList
									.toggle("show");
						});

		document.getElementById("overlay")
				.addEventListener(
						"click",
						function() {
							document.getElementById("sidebar").classList
									.remove("show");
							document.getElementById("overlay").classList
									.remove("show");
						});
	</script>

	<!-- Bootstrap JS -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
